<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AIçŸ¥è¯†åº“+Chat</title>
  <!-- å¼•å…¥å­—ä½“ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/vue@3.3.4/dist/vue.global.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 500;
      background-color: #f5f5f5;
    }

    /* å…¨å±€å­—ä½“è®¾ç½®ï¼šè‹±æ–‡æ•°å­—ç”¨Montserrat Mediumï¼Œä¸­æ–‡ç”¨æ€æºé»‘ä½“Bold */
    * {
      font-variant-numeric: tabular-nums;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
    }

    /* ä¸­æ–‡æ–‡å­—ä½¿ç”¨æ€æºé»‘ä½“Bold */
    *:lang(zh), *:lang(zh-CN) {
      font-family: 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 700;
    }

    .app-container {
      display: flex;
      flex-direction: column;
      height: 100vh;
      background-color: #f5f5f5;
    }

    /* é¡¶éƒ¨å¯¼èˆªæ  */
    .top-nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 78px;
      background: #fdfdfd;
      border-bottom: 2px solid #f7f7f7;
      padding: 0 31px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .nav-left {
      display: flex;
      align-items: center;
    }

    .logo-container {
      width: 26vh;
      height: 26vh;
      min-width: 182px;
      min-height: 182px;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: transparent;
      border-radius: 10px;
    }

    .logo {
      width: 90%;
      height: 90%;
      object-fit: contain;
    }

    .nav-center {
      display: flex;
      align-items: center;
      flex: 1;
      justify-content: center;
    }

    .nav-tabs {
      display: flex;
      background: #f8f9fa;
      border-radius: 50px;
      border: 2px solid #e3e3e3;
      padding: 6px;
      gap: 8px;
    }

    .nav-tab {
      padding: 10px 21px;
      border: none;
      background: #f8f9fa;
      border-radius: 50px;
      font-size: 18px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 700;
      color: #666;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .nav-tab:hover {
      background: rgba(0, 0, 0, 0.05);
      color: #333;
    }

    .nav-tab.active {
      background: #fafbf8;
      color: #000000;
      border-radius: 50px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      position: relative;
    }



         .nav-right {
       display: flex;
       align-items: center;
       gap: 12px;
     }

     .nav-item {
       display: flex;
       align-items: center;
       gap: 6px;
       padding: 8px 12px;
       background: #f8f9fa;
       border-radius: 8px;
       cursor: pointer;
       transition: all 0.2s ease;
     }

     .nav-item:hover {
       background: #e9ecef;
     }

     .nav-icon {
       flex-shrink: 0;
       object-fit: contain;
     }

     .nav-text {
       font-size: 14px;
       font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
       font-weight: 500;
       color: #666;
       white-space: nowrap;
     }

    .login-icon {
      width: 52px;
      height: 52px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #f8f9fa;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.2s ease;
      color: #666;
    }

    .login-icon:hover {
      background: #e9ecef;
    }

    /* ä¸»è¦å†…å®¹åŒºåŸŸ */
    .main-content {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    /* å·¦ä¾§é¢æ¿ */
    .left-panel {
      width: 280px;
      min-width: 200px;
      max-width: 500px;
      background: white;
      border-right: 1px solid #e5e5e5;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    /* æ‹–æ‹½è°ƒæ•´å™¨ */
    .resize-handle {
      position: absolute;
      top: 0;
      right: -3px;
      width: 6px;
      height: 100%;
      cursor: col-resize;
      background: transparent;
      z-index: 10;
    }

    .resize-handle:hover {
      background: rgba(64, 158, 255, 0.3);
    }

    .resize-handle:active {
      background: rgba(64, 158, 255, 0.5);
    }

    .knowledge-base {
      flex: 1;
      padding: 16px;
      overflow-y: auto;
    }

    .section-title {
      font-size: 17px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 700;
      color: #333;
      margin-bottom: 8px;
      padding-bottom: 4px;
      border-bottom: 1px solid #f0f0f0;
    }

    .tree-container {
      margin-top: 8px;
    }

    .tree-node {
      margin-bottom: 2px;
    }

    .tree-node.folder .children {
      margin-left: 20px;
      margin-top: 4px;
    }

    .node-content {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 4px 10px;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }

    .node-content:hover {
      background: #f5f7fa;
    }

    .expand-icon {
      color: #666;
      transition: transform 0.2s ease;
      flex-shrink: 0;
      width: 16px;
      height: 16px;
    }

    .expand-icon.expanded {
      transform: rotate(90deg);
    }

    .tree-node.file .node-content {
      padding-left: 24px;
    }

    .node-icon {
      flex-shrink: 0;
      width: 16px;
      height: 16px;
      object-fit: contain;
    }

         .node-label {
       font-size: 15px;
       font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
       font-weight: 700;
       color: #333;
       flex: 1;
       overflow: hidden;
       text-overflow: ellipsis;
       white-space: nowrap;
     }

     /* äºŒçº§ç›®å½•ï¼ˆæ–‡ä»¶ï¼‰å­—ä½“æ ·å¼è°ƒæ•´ */
     .tree-node.file .node-label {
       font-size: 13.5px;
       color: #6b6b69;
     }

     /* ä¸‰çº§ç›®å½•ï¼ˆç« èŠ‚ï¼‰æ ·å¼ */
     .tree-node.section .node-content {
       padding-left: 44px;
     }

     .tree-node.section .node-label {
       font-size: 13.5px;
       color: #999;
       font-weight: 400;
     }

     .tree-node.section .node-content:hover {
       background: #f8f9fa;
     }



    /* åº•éƒ¨åŠŸèƒ½åŒº */
    .bottom-actions {
      padding: 16px;
      border-top: 1px solid #f0f0f0;
      background: #fafafa;
    }

    .action-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 16px;
      margin-bottom: 8px;
      background: white;
      border: 1px solid #e5e5e5;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .action-item:last-child {
      margin-bottom: 0;
    }

    .action-item:hover {
      border-color: #409eff;
      box-shadow: 0 2px 8px rgba(64, 158, 255, 0.1);
    }

    .action-content {
      display: flex;
      align-items: center;
      gap: 8px;
    }

         .action-icon {
       color: #666;
       flex-shrink: 0;
       width: 16px;
       height: 16px;
       object-fit: contain;
     }

    .action-text {
      font-size: 14px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 700;
      color: #333;
    }

    .action-plus {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #f8f9fa;
      border-radius: 4px;
      color: #666;
    }

    /* è®¢é˜…ä¿¡æ¯æ¨¡å— */
    .subscription-info {
      padding: 16px;
      background: #f9f9f9;
      border-top: 1px solid #e5e5e5;
    }

    .subscription-header {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 12px;
    }

    .subscription-icon {
      flex-shrink: 0;
      margin-top: 2px;
    }

    .subscription-details {
      flex: 1;
    }

    .subscription-plan {
      font-size: 15px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 600;
      color: #333;
    }

    .upgrade-btn {
      padding: 4px 12px;
      background: #e5e5e5;
      border: none;
      border-radius: 12px;
      font-size: 11px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 500;
      color: #666;
      cursor: pointer;
      transition: background 0.2s ease;
      white-space: nowrap;
    }

    .upgrade-btn:hover {
      background: #d0d0d0;
    }

    .subscription-usage {
      display: flex;
      flex-direction: column;
      gap: 4px;
      margin-left: 0; /* ä¸å›¾æ ‡å·¦ä¾§å¯¹é½ */
      margin-bottom: 12px;
      padding-left: 0;
    }

    .usage-item {
      font-size: 12px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      color: #888;
      line-height: 1.4;
    }

    /* è¿›åº¦æ¡éƒ¨åˆ† */
    .progress-section {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .progress-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .progress-label {
      font-size: 11px;
      color: #666;
      min-width: 60px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
    }

    .progress-bar {
      flex: 1;
      height: 6px;
      background: #e5e5e5;
      border-radius: 3px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      border-radius: 3px;
      transition: width 0.3s ease;
    }

    .storage-progress {
      background: #333333;
    }

    .token-progress {
      background: #333333;
    }

    .progress-text {
      font-size: 11px;
      color: #666;
      min-width: 30px;
      text-align: right;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
    }

    /* å³ä¾§å†…å®¹åŒºåŸŸ */
    .right-content {
      flex: 1;
      background: white;
      display: flex;
      flex-direction: row;
      gap: 1px;
    }

    .knowledge-fragments {
      width: 60%;
      min-width: 300px;
      max-width: 80%;
      padding: 24px;
      overflow-y: auto;
      border-right: 1px solid #e5e5e5;
    }

    /* PDFé˜…è¯»å™¨/å†…å®¹æŸ¥çœ‹å™¨ */
    .content-viewer {
      flex: 1;
      display: flex;
      flex-direction: column;
      background: #fafafa;
      position: relative;
    }

    /* å†…å®¹åŒºåŸŸæ‹–æ‹½è°ƒæ•´å™¨ */
    .content-resize-handle {
      position: absolute;
      top: 0;
      left: -3px;
      width: 6px;
      height: 100%;
      cursor: col-resize;
      background: transparent;
      z-index: 10;
    }

    .content-resize-handle:hover {
      background: rgba(64, 158, 255, 0.3);
    }

    .content-resize-handle:active {
      background: rgba(64, 158, 255, 0.5);
    }

    /* å¤´éƒ¨åŒºåŸŸ */
    .fragments-header {
      margin-bottom: 20px;
      border-bottom: 1px solid #f0f0f0;
      padding-bottom: 16px;
    }

    .fragments-title {
      font-size: 20px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 600;
      color: #333;
      margin: 0 0 8px 0;
    }

    .fragments-summary {
      font-size: 14px;
      color: #666;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
    }

    /* ç‰‡æ®µåˆ—è¡¨ */
    .fragments-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    /* æ ‡é¢˜æ  */
    .fragments-header-row {
      display: flex;
      align-items: center;
      padding: 12px 16px;
      background: #f5f6fa;
      border: 1px solid #e5e5e5;
      border-radius: 8px;
      font-weight: 600;
      color: #333;
      font-size: 14px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      margin-bottom: 8px;
    }

    .header-checkbox {
      margin-right: 12px;
    }

    .header-checkbox input[type="checkbox"] {
      width: 16px;
      height: 16px;
      cursor: pointer;
    }

    .header-name {
      flex: 1.5;
      margin-right: 12px;
    }

    .header-tags {
      flex: 2;
      margin-right: 12px;
    }

    .header-status {
      flex: 1;
      margin-right: 12px;
    }

    .header-enable {
      width: 80px;
      margin-right: 12px;
      text-align: center;
    }

    .header-actions {
      width: 180px;
      text-align: center;
    }

    .fragment-item {
      display: flex;
      align-items: center;
      padding: 16px;
      background: #fafafa;
      border: 1px solid #e5e5e5;
      border-radius: 8px;
      transition: all 0.2s ease;
    }

    .fragment-item:hover {
      background: #f5f7fa;
      border-color: #d0d0d0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    /* å¤é€‰æ¡† */
    .fragment-checkbox {
      margin-right: 12px;
    }

    .fragment-checkbox input[type="checkbox"] {
      width: 16px;
      height: 16px;
      cursor: pointer;
    }

    /* åç§° */
    .fragment-name {
      flex: 1.5;
      margin-right: 12px;
    }

    .fragment-name label {
      font-size: 15px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 500;
      color: #333;
      cursor: pointer;
    }

    /* æ ‡ç­¾ */
    .fragment-tags {
      flex: 2;
      display: flex;
      gap: 6px;
      margin-right: 12px;
      flex-wrap: wrap;
    }

    .tag {
      display: inline-block;
      padding: 4px 8px;
      background: #e3f2fd;
      color: #1976d2;
      border-radius: 12px;
      font-size: 12px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 500;
      white-space: nowrap;
    }

    /* è§£æçŠ¶æ€ */
    .fragment-status {
      flex: 1;
      margin-right: 12px;
    }

    /* å¯ç”¨å¼€å…³åˆ— */
    .fragment-enable {
      width: 80px;
      margin-right: 12px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .status-badge {
      display: inline-block;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 500;
      white-space: nowrap;
    }

    .status-success {
      background: #e8f5e8;
      color: #2e7d32;
    }

    .status-cancelled {
      background: #fff3e0;
      color: #f57c00;
    }

    .status-failed {
      background: #ffebee;
      color: #d32f2f;
    }

    /* åŠ¨ä½œæŒ‰é’® */
    .fragment-actions {
      display: flex;
      gap: 8px;
      width: 180px;
      justify-content: flex-start;
    }

    .action-btn {
      width: 32px;
      height: 32px;
      border: none;
      border-radius: 6px;
      background: #f8f9fa;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }

    .action-btn:hover {
      background: #e9ecef;
      transform: translateY(-1px);
    }

    .action-btn img {
      object-fit: contain;
      opacity: 0.7;
    }

    .action-btn:hover img {
      opacity: 1;
    }

    /* å¼€å…³æŒ‰é’®æ ·å¼ */
    .toggle-switch {
      width: 40px;
      height: 20px;
      background: #ddd;
      border-radius: 20px;
      position: relative;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .toggle-switch.active {
      background: #333;
    }

    .toggle-slider {
      width: 16px;
      height: 16px;
      background: white;
      border-radius: 50%;
      position: absolute;
      top: 2px;
      left: 2px;
      transition: transform 0.3s ease;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .toggle-switch.active .toggle-slider {
      transform: translateX(20px);
    }

    /* ç©ºçŠ¶æ€ */
    .empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 60px 20px;
      text-align: center;
    }

    .empty-icon {
      font-size: 48px;
      margin-bottom: 16px;
      opacity: 0.5;
    }

    .empty-text {
      font-size: 18px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 600;
      color: #666;
      margin-bottom: 8px;
    }

    .empty-subtitle {
      font-size: 14px;
      color: #999;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
    }

    /* å†…å®¹æŸ¥çœ‹å™¨æ ·å¼ */
    .viewer-header {
      padding: 20px 24px 16px;
      border-bottom: 1px solid #e5e5e5;
      background: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .viewer-title {
      font-size: 18px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 600;
      color: #333;
      margin: 0;
    }

    .viewer-tools {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .tool-btn {
      width: 32px;
      height: 32px;
      border: 1px solid #d0d0d0;
      border-radius: 6px;
      background: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      transition: all 0.2s ease;
    }

    .tool-btn:hover:not(:disabled) {
      background: #f5f5f5;
      border-color: #999;
    }

    .tool-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .zoom-level {
      font-size: 14px;
      color: #666;
      min-width: 40px;
      text-align: center;
    }

    .viewer-content {
      flex: 1;
      overflow: auto;
      padding: 24px;
      background: white;
    }

    /* çº¯æ–‡å­—å†…å®¹æ ·å¼ */
    .text-content {
      transform-origin: top left;
      transition: transform 0.3s ease;
      background: white;
      padding: 24px;
    }

    .text-page {
      max-width: 800px;
      margin: 0 auto;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      line-height: 1.6;
    }

    .content-title {
      font-size: 24px;
      font-weight: 700;
      color: #333;
      margin-bottom: 24px;
      border-bottom: 1px solid #e5e5e5;
      padding-bottom: 12px;
    }

    /* çŸ¥è¯†ç‰‡æ®µå®šä½åŒºåŸŸ - é»‘è‰²èƒŒæ™¯ç™½è‰²æ–‡å­— */
    .fragment-location {
      background: #000000;
      color: #ffffff;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 32px;
    }

    .location-header {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 16px;
      border-bottom: 1px solid #333;
      padding-bottom: 8px;
    }

    .location-content p {
      margin-bottom: 8px;
      font-size: 14px;
    }

    .location-content strong {
      color: #ffffff;
      font-weight: 600;
    }

    /* æ–‡æ¡£å†…å®¹åŒºåŸŸ */
    .document-text {
      color: #333;
    }

    .document-text h3 {
      font-size: 20px;
      font-weight: 600;
      color: #333;
      margin-bottom: 20px;
    }

    .text-body {
      font-size: 16px;
      line-height: 1.8;
      color: #444;
    }

    .text-body p {
      margin-bottom: 16px;
    }

    .text-body h4 {
      font-size: 18px;
      font-weight: 600;
      color: #333;
      margin: 24px 0 12px 0;
    }

    .text-body ul, .text-body ol {
      margin: 16px 0;
      padding-left: 24px;
    }

    .text-body li {
      margin-bottom: 8px;
    }

    /* æŸ¥çœ‹å™¨ç©ºçŠ¶æ€ */
    .viewer-empty {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 60px 20px;
      text-align: center;
      background: white;
    }

    .empty-viewer-icon {
      font-size: 48px;
      margin-bottom: 16px;
      opacity: 0.5;
    }

    .empty-viewer-text {
      font-size: 16px;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
      font-weight: 600;
      color: #666;
      margin-bottom: 8px;
    }

    .empty-viewer-subtitle {
      font-size: 14px;
      color: #999;
      font-family: 'Montserrat', 'Noto Sans SC', 'Source Han Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
    }

    .hidden {
      display: none;
    }

    /* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
    .knowledge-base::-webkit-scrollbar,
    .knowledge-fragments::-webkit-scrollbar,
    .viewer-content::-webkit-scrollbar {
      width: 5px;
    }

    /* çŸ¥è¯†åº“ç›®å½•æ»šåŠ¨æ¡ */
    .knowledge-base::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 0;
    }

    .knowledge-base::-webkit-scrollbar-thumb {
      background: #000000;
      border-radius: 0;
      transition: background 0.3s ease;
    }

    .knowledge-base::-webkit-scrollbar-thumb:hover {
      background: #333333;
    }

    .knowledge-base::-webkit-scrollbar-thumb:active {
      background: #000000;
    }

    /* çŸ¥è¯†ç‰‡æ®µåˆ—è¡¨æ»šåŠ¨æ¡ */
    .knowledge-fragments::-webkit-scrollbar-track {
      background: #ffffff;
      border-radius: 0;
    }

    .knowledge-fragments::-webkit-scrollbar-thumb {
      background: #000000;
      border-radius: 0;
      transition: background 0.3s ease;
    }

    .knowledge-fragments::-webkit-scrollbar-thumb:hover {
      background: #333333;
    }

    .knowledge-fragments::-webkit-scrollbar-thumb:active {
      background: #000000;
    }

    /* å†…å®¹é¢„è§ˆåŒºåŸŸæ»šåŠ¨æ¡ */
    .viewer-content::-webkit-scrollbar-track {
      background: #ffffff;
      border-radius: 0;
    }

    .viewer-content::-webkit-scrollbar-thumb {
      background: #000000;
      border-radius: 0;
      transition: background 0.3s ease;
    }

    .viewer-content::-webkit-scrollbar-thumb:hover {
      background: #333333;
    }

    .viewer-content::-webkit-scrollbar-thumb:active {
      background: #000000;
    }

    /* æ»šåŠ¨æ¡è§’è½ */
    .knowledge-base::-webkit-scrollbar-corner {
      background: #f1f1f1;
    }

    .knowledge-fragments::-webkit-scrollbar-corner,
    .viewer-content::-webkit-scrollbar-corner {
      background: #ffffff;
    }

    /* éšè—æ»šåŠ¨æ¡æŒ‰é’® */
    .knowledge-base::-webkit-scrollbar-button,
    .knowledge-fragments::-webkit-scrollbar-button,
    .viewer-content::-webkit-scrollbar-button {
      display: none;
    }

    /* Firefox æ»šåŠ¨æ¡æ ·å¼ */
    .knowledge-base {
      scrollbar-width: thin;
      scrollbar-color: #000000 #f1f1f1;
    }

    .knowledge-fragments,
    .viewer-content {
      scrollbar-width: thin;
      scrollbar-color: #000000 #ffffff;
    }
  </style>
</head>
<body>
  <div id="app">
    <div class="app-container">
      <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
      <header class="top-nav">
        <div class="nav-left">
          <div class="logo-container">
            <img src="./logo.png" alt="Logo" class="logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
            <svg class="logo" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: none;">
              <path d="M8 12h4v4H8v-4zm6 0h4v4h-4v-4zm6 0h4v4h-4v-4zM8 18h4v4H8v-4zm6 0h4v4h-4v-4zm6 0h4v4h-4v-4z" fill="white"/>
            </svg>
          </div>
        </div>
        
        <div class="nav-center">
          <div class="nav-tabs">
            <button 
              v-for="tab in navTabs" 
              :key="tab.key"
              :class="['nav-tab', { active: activeTab === tab.key }]"
              @click="activeTab = tab.key"
            >
              {{ tab.label }}
            </button>
          </div>
        </div>
        
                 <div class="nav-right">
           <!-- è¯­è¨€é€‰æ‹© -->
           <div class="nav-item language-selector">
             <img src="./æ–‡ä»¶å›¾æ ‡/åœ°çƒ.png" alt="è¯­è¨€" width="20" height="20" class="nav-icon" />
             <span class="nav-text">ç®€ä½“ä¸­æ–‡</span>
           </div>
           
           <!-- è®¾ç½® -->
           <div class="nav-item settings-btn">
             <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" class="nav-icon">
               <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
             </svg>
           </div>
           
           <!-- GitHub -->
           <div class="nav-item github-btn">
             <img src="./æ–‡ä»¶å›¾æ ‡/github.png" alt="GitHub" width="20" height="20" class="nav-icon" />
           </div>
           
           <!-- ç”¨æˆ·ç™»å½• -->
           <div class="login-icon">
             <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
               <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
             </svg>
           </div>
         </div>
      </header>

      <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
      <main class="main-content">
              <!-- å·¦ä¾§é¢æ¿ -->
      <aside class="left-panel" id="leftPanel">
        <!-- æ‹–æ‹½è°ƒæ•´å™¨ -->
        <div class="resize-handle" id="resizeHandle"></div>
        <!-- çŸ¥è¯†åº“ç›®å½• -->
          <div class="knowledge-base">
            <div class="section-title">çŸ¥è¯†åº“ç›®å½•</div>
            <div class="tree-container">
              <div class="tree-node folder" v-for="folder in knowledgeTree" :key="folder.id">
                                 <div class="node-content" @click="toggleFolder(folder.id)">
                   <img class="expand-icon" :class="{ expanded: folder.expanded }" src="./æ–‡ä»¶å›¾æ ‡/æ–‡ä»¶å¤¹ç®­å¤´2.png" alt="å±•å¼€ç®­å¤´" width="16" height="16" 
                        onerror="this.style.display='none'; this.nextElementSibling.style.display='inline-block';" />
                   <svg class="expand-icon" :class="{ expanded: folder.expanded }" width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="display: none;">
                     <path d="M6 12l4-4-4-4v8z"/>
                   </svg>
                  <img class="node-icon" :src="getFileIcon(folder.label, folder.type)" :alt="folder.type" />
                  <span class="node-label">{{ folder.label }}</span>
                </div>
                                 <div class="children" :class="{ hidden: !folder.expanded }" v-if="folder.children">
                   <div class="tree-node file" v-for="file in folder.children" :key="file.id">
                     <div class="node-content" @click="toggleFile(file.id)">
                       <img class="expand-icon" :class="{ expanded: file.expanded }" src="./æ–‡ä»¶å›¾æ ‡/æ–‡ä»¶å¤¹ç®­å¤´.png" alt="å±•å¼€ç®­å¤´" width="16" height="16" />
                       <img class="node-icon" :src="getFileIcon(file.label, file.type)" :alt="file.type" />
                       <span class="node-label">{{ file.label }}</span>
                     </div>
                     <div class="children" :class="{ hidden: !file.expanded }" v-if="file.sections">
                       <div class="tree-node section" v-for="section in file.sections" :key="section.id">
                         <div class="node-content">
                           <img class="node-icon" src="./æ–‡ä»¶å›¾æ ‡/åŸç‚¹.png" alt="ç« èŠ‚" width="16" height="16" />
                           <span class="node-label">{{ section.label }}</span>
                         </div>
                       </div>
                     </div>
                   </div>
                 </div>
              </div>
            </div>
          </div>

                     <!-- åº•éƒ¨åŠŸèƒ½åŒº -->
           <div class="bottom-actions">
             <div class="action-item" @click="handleUpload">
               <div class="action-content">
                 <img class="action-icon" src="./æ–‡ä»¶å›¾æ ‡/ä¸Šä¼ .png" alt="ä¸Šä¼ " width="16" height="16" />
                 <span class="action-text">ä¸Šä¼ æ–‡ä»¶</span>
               </div>
               <div class="action-plus">
                 <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                   <path d="M8 4a.5.5 0 01.5.5v3h3a.5.5 0 010 1h-3v3a.5.5 0 01-1 0v-3h-3a.5.5 0 010-1h3v-3A.5.5 0 018 4z"/>
                 </svg>
               </div>
             </div>
             
             <div class="action-item" @click="handleFragmentManagement">
               <div class="action-content">
                 <img class="action-icon" src="./æ–‡ä»¶å›¾æ ‡/ç¢ç‰‡.png" alt="ç¢ç‰‡" width="16" height="16" />
                 <span class="action-text">ç¢ç‰‡çŸ¥è¯†ç®¡ç†</span>
               </div>
               <div class="action-plus">
                 <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                   <path d="M8 4a.5.5 0 01.5.5v3h3a.5.5 0 010 1h-3v3a.5.5 0 01-1 0v-3h-3a.5.5 0 010-1h3v-3A.5.5 0 018 4z"/>
                 </svg>
               </div>
             </div>
           </div>

           <!-- è´¦æˆ·ä¼šå‘˜ä¿¡æ¯ -->
           <div class="subscription-info">
             <div class="subscription-header">
               <img src="./å›¾æ ‡æ–‡ä»¶å¤¹/è®¢é˜…å›¾æ ‡.png" alt="è®¢é˜…" width="20" height="20" class="subscription-icon" />
               <div class="subscription-details">
                 <div class="subscription-plan">Pro Trail å¥—é¤</div>
               </div>
               <button class="upgrade-btn">å‡çº§è®¡åˆ’</button>
             </div>
             
             <!-- ä½¿ç”¨ä¿¡æ¯åŒºåŸŸ -->
             <div class="subscription-usage">
               <div class="usage-item">å‚¨å­˜ç©ºé—´ï¼š256.0MB/2.0GB</div>
 
             </div>
             
             <!-- è¿›åº¦æ¡ -->
             <div class="progress-section">
               <div class="progress-item">
                 <div class="progress-label">å‚¨å­˜ç©ºé—´</div>
                 <div class="progress-bar">
                   <div class="progress-fill storage-progress" style="width: 12.8%"></div>
                 </div>
                 <div class="progress-text">12.8%</div>
               </div>
               
               <div class="progress-item">
                 <div class="progress-label">TOKEN ä½¿ç”¨</div>
                 <div class="progress-bar">
                   <div class="progress-fill token-progress" style="width: 30%"></div>
                 </div>
                 <div class="progress-text">30%</div>
               </div>
             </div>
           </div>
        </aside>

                 <!-- å³ä¾§å†…å®¹åŒºåŸŸ -->
         <section class="right-content">
           <!-- å·¦ä¾§ï¼šçŸ¥è¯†ç‰‡æ®µåˆ—è¡¨ -->
           <div class="knowledge-fragments">
             <!-- å¤´éƒ¨æ ‡é¢˜ -->
             <div class="fragments-header">
               <h2 class="fragments-title">{{ selectedFileTitle || 'è¯·é€‰æ‹©æ–‡ä»¶æŸ¥çœ‹çŸ¥è¯†ç‰‡æ®µ' }}</h2>
               <div class="fragments-summary">
                 å…± {{ knowledgeFragments.length }} ä¸ªçŸ¥è¯†ç‰‡æ®µ
               </div>
             </div>

             <!-- ç‰‡æ®µåˆ—è¡¨ -->
             <div class="fragments-list" v-if="knowledgeFragments.length > 0">
               <!-- æ ‡é¢˜æ  -->
               <div class="fragments-header-row">
                 <div class="header-checkbox">
                   <input type="checkbox" id="selectAll" @change="toggleSelectAll" :checked="isAllSelected">
                 </div>
                 <div class="header-name">åç§°</div>
                 <div class="header-tags">æ ‡ç­¾</div>
                 <div class="header-status">è§£æçŠ¶æ€</div>
                 <div class="header-enable">å¯ç”¨</div>
                 <div class="header-actions">æ“ä½œ</div>
               </div>
               
               <div class="fragment-item" v-for="fragment in knowledgeFragments" :key="fragment.id">
                 <!-- å¤é€‰æ¡† -->
                 <div class="fragment-checkbox">
                   <input type="checkbox" :id="'checkbox-' + fragment.id" v-model="fragment.selected">
                 </div>

                 <!-- åç§° -->
                 <div class="fragment-name">
                   <label :for="'checkbox-' + fragment.id">{{ fragment.name }}</label>
                 </div>

                 <!-- æ ‡ç­¾ -->
                 <div class="fragment-tags">
                   <span class="tag" v-for="tag in fragment.tags" :key="tag">{{ tag }}</span>
                 </div>

                 <!-- è§£æçŠ¶æ€ -->
                 <div class="fragment-status">
                   <span class="status-badge" :class="'status-' + fragment.status">
                     {{ getStatusText(fragment.status) }}
                   </span>
                 </div>

                 <!-- å¯ç”¨å¼€å…³ -->
                 <div class="fragment-enable">
                   <div class="toggle-switch" :class="{ active: fragment.enabled }" @click="toggleEnable(fragment)">
                     <div class="toggle-slider"></div>
                   </div>
                 </div>

                 <!-- åŠ¨ä½œæŒ‰é’® -->
                 <div class="fragment-actions">
                   <button class="action-btn link-btn" @click="showLink(fragment)">
                     <img src="./å›¾æ ‡æ–‡ä»¶å¤¹/é“¾æ¥.png" alt="é“¾æ¥" width="16" height="16" />
                   </button>
                   <button class="action-btn view-btn" @click="viewFragment(fragment)">
                     <img src="./å›¾æ ‡æ–‡ä»¶å¤¹/æŸ¥çœ‹.png" alt="æŸ¥çœ‹" width="16" height="16" />
                   </button>
                   <button class="action-btn edit-btn" @click="editFragment(fragment)">
                     <img src="./å›¾æ ‡æ–‡ä»¶å¤¹/ç¼–è¾‘.png" alt="ç¼–è¾‘" width="16" height="16" />
                   </button>
                   <button class="action-btn delete-btn" @click="deleteFragment(fragment)">
                     <img src="./å›¾æ ‡æ–‡ä»¶å¤¹/åˆ é™¤.png" alt="åˆ é™¤" width="16" height="16" />
                   </button>
                 </div>
               </div>
             </div>

             <!-- ç©ºçŠ¶æ€ -->
             <div class="empty-state" v-else>
               <div class="empty-icon">ğŸ“„</div>
               <div class="empty-text">æš‚æ— çŸ¥è¯†ç‰‡æ®µ</div>
               <div class="empty-subtitle">è¯·åœ¨å·¦ä¾§é€‰æ‹©æ–‡ä»¶æŸ¥çœ‹å…¶çŸ¥è¯†ç‰‡æ®µ</div>
             </div>
           </div>

           <!-- å³ä¾§ï¼šPDFé˜…è¯»å™¨/æ–‡å­—æ˜¾ç¤ºåŒºåŸŸ -->
           <div class="content-viewer" id="contentViewer">
             <!-- æ‹–æ‹½è°ƒæ•´å™¨ -->
             <div class="content-resize-handle" id="contentResizeHandle"></div>
             <!-- æŸ¥çœ‹å™¨å¤´éƒ¨ -->
             <div class="viewer-header">
               <h3 class="viewer-title">{{ currentFragment ? currentFragment.name : 'å†…å®¹é¢„è§ˆ' }}</h3>
               <div class="viewer-tools">
                 <button class="tool-btn" @click="zoomOut" :disabled="!currentFragment">
                   <span>-</span>
                 </button>
                 <span class="zoom-level">{{ zoomLevel }}%</span>
                 <button class="tool-btn" @click="zoomIn" :disabled="!currentFragment">
                   <span>+</span>
                 </button>
                 <button class="tool-btn" @click="resetZoom" :disabled="!currentFragment">
                   <span>é‡ç½®</span>
                 </button>
               </div>
             </div>

             <!-- å†…å®¹æ˜¾ç¤ºåŒºåŸŸ -->
             <div class="viewer-content" v-if="currentFragment">
               <!-- çº¯æ–‡å­—å†…å®¹ -->
               <div class="text-content" :style="{ transform: `scale(${zoomLevel / 100})` }">
                 <div class="text-page">
                   <h2 class="content-title">{{ currentFragment.name }}</h2>
                   
                   <!-- çŸ¥è¯†ç‰‡æ®µå®šä½éƒ¨åˆ† -->
                   <div class="fragment-location">
                     <div class="location-header">çŸ¥è¯†ç‰‡æ®µå®šä½</div>
                     <div class="location-content">
                       <p><strong>æ–‡æ¡£ï¼š</strong>äº§å“éœ€æ±‚æ–‡æ¡£V2.1.PDF</p>
                       <p><strong>ç« èŠ‚ï¼š</strong>{{ currentFragment.name }}</p>
                       <p><strong>é¡µç ï¼š</strong>ç¬¬{{ Math.floor(Math.random() * 50) + 1 }}é¡µ</p>
                       <p><strong>å®šä½ï¼š</strong>{{ currentFragment.locationInfo }}</p>
                     </div>
                   </div>
                   
                   <!-- æ–‡æ¡£å†…å®¹ -->
                   <div class="document-text">
                     <h3>{{ currentFragment.name }}</h3>
                     <div class="text-body" v-html="currentFragment.textContent"></div>
                   </div>
                 </div>
               </div>
             </div>

             <!-- ç©ºçŠ¶æ€ -->
             <div class="viewer-empty" v-else>
               <div class="empty-viewer-icon">ğŸ‘ï¸</div>
               <div class="empty-viewer-text">ç‚¹å‡»å·¦ä¾§çŸ¥è¯†ç‰‡æ®µçš„"æŸ¥çœ‹"æŒ‰é’®</div>
               <div class="empty-viewer-subtitle">åœ¨æ­¤å¤„é¢„è§ˆç‰‡æ®µå†…å®¹</div>
             </div>
           </div>
         </section>
      </main>
    </div>
  </div>

  <script>
    console.log('Vue:', Vue)
    
    if (typeof Vue === 'undefined') {
      console.error('Vue is not loaded!')
      document.body.innerHTML = '<h1>VueåŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥</h1>'
    } else {
      console.log('Vue loaded successfully')
    }
    
    const { createApp } = Vue

    const app = createApp({
      data() {
        return {
          navTabs: [
            { key: 'knowledge', label: 'çŸ¥è¯†åº“' },
            { key: 'chat', label: 'èŠå¤©' },
            { key: 'document', label: 'æ–‡æ¡£ç®¡ç†' },
            { key: 'config', label: 'é…ç½®' }
          ],
          activeTab: 'knowledge',
          selectedFileTitle: '',
          knowledgeFragments: [],
          currentFragment: null,
          zoomLevel: 100,
          knowledgeTree: [
                         {
               id: 1,
               label: 'æŠ€æœ¯æ–‡æ¡£',
               type: 'folder',
               expanded: true,
               children: [
                 { 
                   id: 11, 
                   label: 'Vue.jså¼€å‘æŒ‡å—.pdf', 
                   type: 'file',
                   expanded: false,
                   sections: [
                     { id: 111, label: '1.VueåŸºç¡€æ¦‚å¿µ' },
                     { id: 112, label: '2.ç»„ä»¶å¼€å‘' },
                     { id: 113, label: '3.è·¯ç”±ç®¡ç†' },
                     { id: 114, label: '4.çŠ¶æ€ç®¡ç†' },
                     { id: 115, label: '5.é¡¹ç›®æ„å»º' }
                   ]
                 },
                 { 
                   id: 12, 
                   label: 'JavaScripté«˜çº§ç¼–ç¨‹.docx', 
                   type: 'file',
                   expanded: false,
                   sections: [
                     { id: 121, label: '1.åŸºç¡€è¯­æ³•' },
                     { id: 122, label: '2.é¢å‘å¯¹è±¡ç¼–ç¨‹' },
                     { id: 123, label: '3.å¼‚æ­¥ç¼–ç¨‹' },
                     { id: 124, label: '4.æ¨¡å—ç³»ç»Ÿ' },
                     { id: 125, label: '5.æ€§èƒ½ä¼˜åŒ–' }
                   ]
                 },
                 { 
                   id: 13, 
                   label: 'CSS3æ ·å¼æ‰‹å†Œ.md', 
                   type: 'file',
                   expanded: false,
                   sections: [
                     { id: 131, label: '1.é€‰æ‹©å™¨è¯¦è§£' },
                     { id: 132, label: '2.å¸ƒå±€æŠ€æœ¯' },
                     { id: 133, label: '3.åŠ¨ç”»æ•ˆæœ' },
                     { id: 134, label: '4.å“åº”å¼è®¾è®¡' }
                   ]
                 },
                 { 
                   id: 14, 
                   label: 'Reactç»„ä»¶è®¾è®¡.html', 
                   type: 'file',
                   expanded: false,
                   sections: [
                     { id: 141, label: '1.ç»„ä»¶åŸºç¡€' },
                     { id: 142, label: '2.Propsä¸State' },
                     { id: 143, label: '3.ç”Ÿå‘½å‘¨æœŸ' },
                     { id: 144, label: '4.Hooksä½¿ç”¨' }
                   ]
                 },
                 { 
                   id: 15, 
                   label: 'TypeScriptæ•™ç¨‹.txt', 
                   type: 'file',
                   expanded: false,
                   sections: [
                     { id: 151, label: '1.ç±»å‹ç³»ç»Ÿ' },
                     { id: 152, label: '2.æ¥å£å®šä¹‰' },
                     { id: 153, label: '3.æ³›å‹ç¼–ç¨‹' },
                     { id: 154, label: '4.è£…é¥°å™¨' }
                   ]
                 }
               ]
             },
                         {
               id: 2,
               label: 'äº§å“è§„æ ¼',
               type: 'folder',
               expanded: true,
               children: [
                 { 
                   id: 21, 
                   label: 'äº§å“éœ€æ±‚æ–‡æ¡£v2.1.pdf', 
                   type: 'file',
                   expanded: false,
                   sections: [
                     { id: 211, label: '1.æ–‡æ¡£æ¦‚è¿°' },
                     { id: 212, label: '2.äº§å“èƒŒæ™¯' },
                     { id: 213, label: '3.å¸‚åœºåˆ†æ' },
                     { id: 214, label: '4.ç”¨æˆ·ç”»åƒ' },
                     { id: 215, label: '5.åŠŸèƒ½éœ€æ±‚' },
                     { id: 216, label: '6.éåŠŸèƒ½éœ€æ±‚' },
                     { id: 217, label: '7.æ•°æ®éœ€æ±‚' },
                     { id: 218, label: '8.æŠ€æœ¯è¦æ±‚' },
                     { id: 219, label: '9.ç³»ç»Ÿæ¶æ„' },
                     { id: 2110, label: '10.é£é™©è¯„ä¼°' },
                     { id: 2111, label: '11.å®æ–½è®¡åˆ’' }
                   ]
                 },
                 { 
                   id: 22, 
                   label: 'åŸå‹è®¾è®¡ç¨¿.fig', 
                   type: 'file',
                   expanded: false,
                   sections: [
                     { id: 221, label: '1.é¦–é¡µè®¾è®¡' },
                     { id: 222, label: '2.ç”¨æˆ·ä¸­å¿ƒ' },
                     { id: 223, label: '3.åŠŸèƒ½é¡µé¢' },
                     { id: 224, label: '4.äº¤äº’æ•ˆæœ' }
                   ]
                 },
                 { 
                   id: 23, 
                   label: 'ç”¨æˆ·ä½“éªŒæŠ¥å‘Š.docx', 
                   type: 'file',
                   expanded: false,
                   sections: [
                     { id: 231, label: '1.ç”¨æˆ·è°ƒç ”' },
                     { id: 232, label: '2.å¯ç”¨æ€§æµ‹è¯•' },
                     { id: 233, label: '3.ä½“éªŒé—®é¢˜' },
                     { id: 234, label: '4.ä¼˜åŒ–å»ºè®®' }
                   ]
                 },
                 { 
                   id: 24, 
                   label: 'ç«å“åˆ†æè¡¨.xlsx', 
                   type: 'file',
                   expanded: false,
                   sections: [
                     { id: 241, label: '1.ç«å“æ¦‚è§ˆ' },
                     { id: 242, label: '2.åŠŸèƒ½å¯¹æ¯”' },
                     { id: 243, label: '3.ä¼˜åŠ£åˆ†æ' },
                     { id: 244, label: '4.ç­–ç•¥å»ºè®®' }
                   ]
                 }
               ]
             },
                         {
               id: 3,
               label: 'ä¼šè®®è®°å½•',
               type: 'folder',
               expanded: true,
               children: [
                 { 
                   id: 31, 
                   label: '2024-01-15 é¡¹ç›®å¯åŠ¨ä¼š.docx', 
                   type: 'file',
                   expanded: false,
                   sections: [
                     { id: 311, label: '1.é¡¹ç›®ä»‹ç»' },
                     { id: 312, label: '2.å›¢é˜Ÿç»„å»º' },
                     { id: 313, label: '3.æ—¶é—´è§„åˆ’' },
                     { id: 314, label: '4.èµ„æºåˆ†é…' }
                   ]
                 },
                 { 
                   id: 32, 
                   label: '2024-01-22 éœ€æ±‚è¯„å®¡ä¼š.pdf', 
                   type: 'file',
                   expanded: false,
                   sections: [
                     { id: 321, label: '1.éœ€æ±‚æ¢³ç†' },
                     { id: 322, label: '2.æŠ€æœ¯è¯„ä¼°' },
                     { id: 323, label: '3.é£é™©åˆ†æ' },
                     { id: 324, label: '4.è¯„å®¡ç»“è®º' }
                   ]
                 },
                 { id: 33, label: '2024-01-29 æŠ€æœ¯æ–¹æ¡ˆè®¨è®º.md', type: 'file', expanded: false, sections: [] },
                 { id: 34, label: '2024-02-05 è¿›åº¦æ±‡æŠ¥.pptx', type: 'file', expanded: false, sections: [] }
               ]
             },
             {
               id: 4,
               label: 'è®¾è®¡èµ„æº',
               type: 'folder',
               expanded: false,
               children: [
                 { id: 41, label: 'Logoè®¾è®¡æ–¹æ¡ˆ.png', type: 'file', expanded: false, sections: [] },
                 { id: 42, label: 'UIç•Œé¢æˆªå›¾.jpg', type: 'file', expanded: false, sections: [] },
                 { id: 43, label: 'å›¾æ ‡åº“.svg', type: 'file', expanded: false, sections: [] },
                 { id: 44, label: 'è‰²å½©æ­é…æŒ‡å—.pdf', type: 'file', expanded: false, sections: [] }
               ]
             },
             {
               id: 5,
               label: 'åŸ¹è®­ææ–™',
               type: 'folder',
               expanded: false,
               children: [
                 { id: 51, label: 'æ–°å‘˜å·¥å…¥èŒåŸ¹è®­.ppt', type: 'file', expanded: false, sections: [] },
                 { id: 52, label: 'æŠ€æœ¯åŸ¹è®­å¤§çº².docx', type: 'file', expanded: false, sections: [] },
                 { id: 53, label: 'å®‰å…¨è§„èŒƒæ‰‹å†Œ.pdf', type: 'file', expanded: false, sections: [] },
                 { id: 54, label: 'æ“ä½œæµç¨‹å›¾.png', type: 'file', expanded: false, sections: [] }
               ]
             }
          ]
        }
      },
      computed: {
        isAllSelected() {
          return this.knowledgeFragments.length > 0 && this.knowledgeFragments.every(fragment => fragment.selected)
        }
      },
      methods: {
        toggleFolder(folderId) {
          const folder = this.knowledgeTree.find(f => f.id === folderId)
          if (folder) {
            folder.expanded = !folder.expanded
          }
        },
        toggleFile(fileId) {
          // åœ¨æ‰€æœ‰æ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾æ–‡ä»¶
          for (let folder of this.knowledgeTree) {
            if (folder.children) {
              const file = folder.children.find(f => f.id === fileId)
              if (file) {
                file.expanded = !file.expanded
                // å¦‚æœæ–‡ä»¶æœ‰sectionsï¼ŒåŠ è½½ä¸ºçŸ¥è¯†ç‰‡æ®µ
                if (file.sections && file.sections.length > 0) {
                  this.loadKnowledgeFragments(file)
                }
                break
              }
            }
          }
        },
        loadKnowledgeFragments(file) {
          this.selectedFileTitle = file.label
          this.currentFragment = null // é‡ç½®å½“å‰æŸ¥çœ‹çš„ç‰‡æ®µ
          this.knowledgeFragments = file.sections.map(section => ({
            id: section.id,
            name: section.label,
            tags: this.generateTags(),
            status: this.generateStatus(),
            enabled: Math.random() > 0.3,
            selected: false,
            description: this.generateDescription(section.label),
            locationInfo: this.generateLocationInfo(section.label),
            textContent: this.generateTextContent(section.label)
          }))
        },
        generateDescription(sectionName) {
          const descriptions = {
            '1.æ–‡æ¡£æ¦‚è¿°': 'æœ¬æ–‡æ¡£ä¸ºäº§å“éœ€æ±‚æ–‡æ¡£çš„æ€»ä½“æ¦‚è¿°ï¼Œä»‹ç»äº†æ–‡æ¡£çš„ç»“æ„ã€ç›®çš„å’Œä½¿ç”¨æ–¹æ³•ã€‚',
            '2.äº§å“èƒŒæ™¯': 'è¯¦ç»†æè¿°äº†äº§å“çš„å¸‚åœºèƒŒæ™¯ã€å•†ä¸šç¯å¢ƒå’Œé¡¹ç›®å¯åŠ¨çš„åŸå› ã€‚',
            '3.å¸‚åœºåˆ†æ': 'å¯¹ç›®æ ‡å¸‚åœºè¿›è¡Œæ·±å…¥åˆ†æï¼ŒåŒ…æ‹¬å¸‚åœºè§„æ¨¡ã€ç«äº‰æ ¼å±€å’Œå‘å±•è¶‹åŠ¿ã€‚',
            '4.ç”¨æˆ·ç”»åƒ': 'å®šä¹‰äº†äº§å“çš„ç›®æ ‡ç”¨æˆ·ç¾¤ä½“ï¼ŒåŒ…æ‹¬ç”¨æˆ·ç‰¹å¾ã€éœ€æ±‚å’Œè¡Œä¸ºæ¨¡å¼ã€‚',
            '5.åŠŸèƒ½éœ€æ±‚': 'è¯¦ç»†æè¿°äº†äº§å“çš„æ ¸å¿ƒåŠŸèƒ½å’Œç‰¹æ€§éœ€æ±‚ã€‚'
          }
          return descriptions[sectionName] || `è¿™æ˜¯å…³äº"${sectionName}"çš„è¯¦ç»†æè¿°ï¼ŒåŒ…å«äº†ç›¸å…³çš„ä¸šåŠ¡è§„åˆ™ã€æŠ€æœ¯è¦æ±‚å’Œå®ç°ç»†èŠ‚ã€‚`
        },
        generateContent(sectionName) {
          const contents = {
            '1.æ–‡æ¡£æ¦‚è¿°': `
              <h3>æ–‡æ¡£ç›®çš„</h3>
              <p>æœ¬æ–‡æ¡£æ—¨åœ¨æ˜ç¡®äº§å“çš„åŠŸèƒ½éœ€æ±‚ã€æŠ€æœ¯è¦æ±‚å’Œä¸šåŠ¡è§„åˆ™ï¼Œä¸ºåç»­çš„è®¾è®¡å’Œå¼€å‘å·¥ä½œæä¾›æŒ‡å¯¼ã€‚</p>
              <h3>é€‚ç”¨èŒƒå›´</h3>
              <p>æœ¬æ–‡æ¡£é€‚ç”¨äºäº§å“ç»ç†ã€è®¾è®¡å¸ˆã€å¼€å‘å·¥ç¨‹å¸ˆå’Œæµ‹è¯•å·¥ç¨‹å¸ˆã€‚</p>
            `,
            '2.äº§å“èƒŒæ™¯': `
              <h3>å¸‚åœºæœºä¼š</h3>
              <p>éšç€æ•°å­—åŒ–è½¬å‹çš„æ·±å…¥ï¼Œä¼ä¸šå¯¹æ™ºèƒ½åŒ–è§£å†³æ–¹æ¡ˆçš„éœ€æ±‚æ—¥ç›Šå¢é•¿ã€‚</p>
              <h3>ç«äº‰åˆ†æ</h3>
              <p>å½“å‰å¸‚åœºä¸Šå­˜åœ¨å¤šä¸ªç«äº‰äº§å“ï¼Œä½†åœ¨ç”¨æˆ·ä½“éªŒå’ŒåŠŸèƒ½å®Œæ•´æ€§æ–¹é¢ä»æœ‰æå‡ç©ºé—´ã€‚</p>
            `
          }
          return contents[sectionName] || `<p>è¿™é‡Œæ˜¯"${sectionName}"çš„è¯¦ç»†å†…å®¹...</p>`
        },
        generateLocationInfo(sectionName) {
          const locations = {
            '1.æ–‡æ¡£æ¦‚è¿°': 'ä½äºæ–‡æ¡£å¼€å¤´éƒ¨åˆ†ï¼Œæ¦‚è¿°ç« èŠ‚ç¬¬1æ®µè‡³ç¬¬3æ®µ',
            '2.äº§å“èƒŒæ™¯': 'ç¬¬2ç« èŠ‚ï¼ŒåŒ…å«å¸‚åœºåˆ†æå’Œé¡¹ç›®èƒŒæ™¯æè¿°',
            '3.å¸‚åœºåˆ†æ': 'ç¬¬3ç« èŠ‚ç¬¬1èŠ‚ï¼Œè¯¦ç»†å¸‚åœºæ•°æ®å’Œç«äº‰åˆ†æ',
            '4.ç”¨æˆ·ç”»åƒ': 'ç¬¬3ç« èŠ‚ç¬¬2èŠ‚ï¼Œç”¨æˆ·ç ”ç©¶å’Œç”»åƒå®šä¹‰',
            '5.åŠŸèƒ½éœ€æ±‚': 'ç¬¬4ç« èŠ‚ï¼Œæ ¸å¿ƒåŠŸèƒ½æè¿°å’Œéœ€æ±‚åˆ—è¡¨'
          }
          return locations[sectionName] || `${sectionName}ç« èŠ‚ï¼Œå…·ä½“ä½ç½®è§æ–‡æ¡£ç›®å½•`
        },
        generateTextContent(sectionName) {
          const contents = {
            '1.æ–‡æ¡£æ¦‚è¿°': `
              <h4>1.1 æ–‡æ¡£ç›®çš„</h4>
              <p>æœ¬æ–‡æ¡£æ—¨åœ¨æ˜ç¡®æ™ºèƒ½çŸ¥è¯†ç®¡ç†ç³»ç»Ÿçš„äº§å“éœ€æ±‚ï¼Œä¸ºäº§å“è®¾è®¡ã€å¼€å‘ã€æµ‹è¯•ç­‰å„ä¸ªç¯èŠ‚æä¾›è¯¦ç»†çš„æŒ‡å¯¼å’Œæ ‡å‡†ã€‚é€šè¿‡å¯¹å¸‚åœºéœ€æ±‚ã€ç”¨æˆ·ç—›ç‚¹ã€æŠ€æœ¯å¯è¡Œæ€§ç­‰æ–¹é¢çš„æ·±å…¥åˆ†æï¼Œç¡®ä¿äº§å“èƒ½å¤Ÿæ»¡è¶³ç›®æ ‡ç”¨æˆ·çš„å®é™…éœ€æ±‚ã€‚</p>
              
              <h4>1.2 é€‚ç”¨èŒƒå›´</h4>
              <p>æœ¬æ–‡æ¡£é€‚ç”¨äºæ™ºèƒ½çŸ¥è¯†ç®¡ç†ç³»ç»Ÿé¡¹ç›®çš„æ‰€æœ‰å‚ä¸äººå‘˜ï¼ŒåŒ…æ‹¬ï¼š</p>
              <ul>
                <li>äº§å“ç»ç†ï¼šè´Ÿè´£éœ€æ±‚åˆ†æå’Œäº§å“è§„åˆ’</li>
                <li>è®¾è®¡å¸ˆï¼šè´Ÿè´£ç”¨æˆ·ç•Œé¢å’Œç”¨æˆ·ä½“éªŒè®¾è®¡</li>
                <li>å¼€å‘å·¥ç¨‹å¸ˆï¼šè´Ÿè´£ç³»ç»Ÿæ¶æ„è®¾è®¡å’ŒåŠŸèƒ½å¼€å‘</li>
                <li>æµ‹è¯•å·¥ç¨‹å¸ˆï¼šè´Ÿè´£åŠŸèƒ½æµ‹è¯•å’Œè´¨é‡ä¿è¯</li>
                <li>é¡¹ç›®ç»ç†ï¼šè´Ÿè´£é¡¹ç›®è¿›åº¦ç®¡ç†å’Œèµ„æºåè°ƒ</li>
              </ul>
              
              <h4>1.3 æ–‡æ¡£ç»“æ„</h4>
              <p>æœ¬æ–‡æ¡£æŒ‰ç…§ä»å®è§‚åˆ°å¾®è§‚çš„é€»è¾‘ç»“æ„ç»„ç»‡ï¼Œé¦–å…ˆä»‹ç»äº§å“èƒŒæ™¯å’Œå¸‚åœºç¯å¢ƒï¼Œç„¶åè¯¦ç»†æè¿°åŠŸèƒ½éœ€æ±‚å’ŒæŠ€æœ¯è¦æ±‚ï¼Œæœ€åæä¾›å®æ–½è®¡åˆ’å’Œé£é™©è¯„ä¼°ã€‚</p>
            `,
            '2.äº§å“èƒŒæ™¯': `
              <h4>2.1 é¡¹ç›®èƒŒæ™¯</h4>
              <p>åœ¨ä¿¡æ¯åŒ–å¿«é€Ÿå‘å±•çš„ä»Šå¤©ï¼Œä¼ä¸šå’Œä¸ªäººéƒ½é¢ä¸´ç€æµ·é‡ä¿¡æ¯å¤„ç†çš„æŒ‘æˆ˜ã€‚ä¼ ç»Ÿçš„æ–‡æ¡£ç®¡ç†æ–¹å¼å·²ç»æ— æ³•æ»¡è¶³ç°ä»£å·¥ä½œçš„éœ€æ±‚ï¼Œè¿«åˆ‡éœ€è¦ä¸€ä¸ªæ™ºèƒ½åŒ–çš„çŸ¥è¯†ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚</p>
              
              <h4>2.2 å¸‚åœºæœºé‡</h4>
              <p>æ ¹æ®æœ€æ–°çš„å¸‚åœºç ”ç©¶æŠ¥å‘Šï¼ŒçŸ¥è¯†ç®¡ç†å¸‚åœºé¢„è®¡åœ¨æœªæ¥äº”å¹´å†…å°†ä¿æŒ15%ä»¥ä¸Šçš„å¹´å¢é•¿ç‡ã€‚ä¸»è¦é©±åŠ¨å› ç´ åŒ…æ‹¬ï¼š</p>
              <ul>
                <li>è¿œç¨‹åŠå…¬æ¨¡å¼çš„æ™®åŠï¼Œå¯¹åä½œå·¥å…·çš„éœ€æ±‚å¢åŠ </li>
                <li>äººå·¥æ™ºèƒ½æŠ€æœ¯çš„æˆç†Ÿï¼Œä¸ºæ™ºèƒ½åŒ–åº”ç”¨æä¾›äº†æŠ€æœ¯åŸºç¡€</li>
                <li>ä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„åŠ é€Ÿï¼Œå¯¹çŸ¥è¯†èµ„äº§ç®¡ç†çš„é‡è§†</li>
                <li>ç›‘ç®¡è¦æ±‚çš„æå‡ï¼Œå¯¹æ–‡æ¡£åˆè§„æ€§ç®¡ç†çš„éœ€æ±‚</li>
              </ul>
              
              <h4>2.3 ç›®æ ‡æ„¿æ™¯</h4>
              <p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰“é€ ä¸€ä¸ªé›†çŸ¥è¯†åˆ›å»ºã€å­˜å‚¨ã€æ£€ç´¢ã€åˆ†äº«äºä¸€ä½“çš„æ™ºèƒ½åŒ–å¹³å°ï¼Œå¸®åŠ©ç”¨æˆ·é«˜æ•ˆç®¡ç†å’Œåˆ©ç”¨çŸ¥è¯†èµ„äº§ï¼Œæå‡å·¥ä½œæ•ˆç‡å’Œå†³ç­–è´¨é‡ã€‚</p>
            `,
            '3.å¸‚åœºåˆ†æ': `
              <h4>3.1 ç›®æ ‡å¸‚åœºè§„æ¨¡</h4>
              <p>æ ¹æ®è¡Œä¸šåˆ†ææŠ¥å‘Šï¼Œå…¨çƒçŸ¥è¯†ç®¡ç†è½¯ä»¶å¸‚åœºè§„æ¨¡é¢„è®¡å°†ä»2024å¹´çš„387äº¿ç¾å…ƒå¢é•¿åˆ°2029å¹´çš„754äº¿ç¾å…ƒï¼Œå¤åˆå¹´å¢é•¿ç‡ä¸º14.2%ã€‚</p>
              
              <h4>3.2 ç«äº‰æ ¼å±€åˆ†æ</h4>
              <p>å½“å‰å¸‚åœºä¸»è¦ç”±ä»¥ä¸‹å‡ ç±»äº§å“å æ®ï¼š</p>
              <ul>
                <li><strong>ä¼ ç»Ÿæ–‡æ¡£ç®¡ç†ç³»ç»Ÿï¼š</strong>å¦‚SharePointã€Confluenceç­‰ï¼ŒåŠŸèƒ½å®Œå–„ä½†ç”¨æˆ·ä½“éªŒè¾ƒå·®</li>
                <li><strong>äº‘ç«¯åä½œå¹³å°ï¼š</strong>å¦‚Notionã€Airtableç­‰ï¼Œç•Œé¢å‹å¥½ä½†åŠŸèƒ½ç›¸å¯¹ç®€å•</li>
                <li><strong>ä¸“ä¸šçŸ¥è¯†åº“ï¼š</strong>å¦‚GitBookã€Bookstackç­‰ï¼Œä¸“æ³¨äºæ–‡æ¡£ç¼–å†™ä½†ç¼ºä¹æ™ºèƒ½åŒ–åŠŸèƒ½</li>
              </ul>
              
              <h4>3.3 å¸‚åœºæœºä¼š</h4>
              <p>é€šè¿‡åˆ†æç°æœ‰ç«å“ï¼Œæˆ‘ä»¬å‘ç°ä»¥ä¸‹å¸‚åœºæœºä¼šï¼š</p>
              <ol>
                <li>æ™ºèƒ½åŒ–ç¨‹åº¦ä¸è¶³ï¼Œå¤§å¤šæ•°äº§å“ç¼ºä¹AIè¾…åŠ©åŠŸèƒ½</li>
                <li>ç”¨æˆ·ä½“éªŒæœ‰å¾…æå‡ï¼Œæ“ä½œå¤æ‚åº¦è¾ƒé«˜</li>
                <li>å®šåˆ¶åŒ–èƒ½åŠ›æœ‰é™ï¼Œéš¾ä»¥æ»¡è¶³ä¸åŒè¡Œä¸šçš„ç‰¹æ®Šéœ€æ±‚</li>
              </ol>
            `
          }
          return contents[sectionName] || `
            <p>è¿™é‡Œæ˜¯"${sectionName}"çš„è¯¦ç»†æ–‡æ¡£å†…å®¹ã€‚æœ¬ç« èŠ‚åŒ…å«äº†ç›¸å…³çš„ä¸šåŠ¡è§„åˆ™ã€æŠ€æœ¯è¦æ±‚å’Œå®ç°ç»†èŠ‚ã€‚</p>
            <p>å†…å®¹æ¶µç›–äº†äº§å“åŠŸèƒ½çš„è¯¦ç»†æè¿°ã€ç”¨æˆ·åœºæ™¯åˆ†æã€æŠ€æœ¯æ¶æ„è®¾è®¡ç­‰å¤šä¸ªæ–¹é¢ï¼Œä¸ºåç»­çš„äº§å“å¼€å‘æä¾›äº†æ˜ç¡®çš„æŒ‡å¯¼æ–¹å‘ã€‚</p>
            <p>é€šè¿‡æ·±å…¥çš„éœ€æ±‚åˆ†æå’Œå¸‚åœºè°ƒç ”ï¼Œç¡®ä¿äº§å“èƒ½å¤Ÿæ»¡è¶³ç›®æ ‡ç”¨æˆ·çš„å®é™…éœ€æ±‚ï¼Œå¹¶åœ¨ç«äº‰æ¿€çƒˆçš„å¸‚åœºä¸­å æ®ä¼˜åŠ¿åœ°ä½ã€‚</p>
          `
        },
        generateTableData() {
          const tables = [
            {
              headers: ['åŠŸèƒ½æ¨¡å—', 'ä¼˜å…ˆçº§', 'å¼€å‘å·¥æ—¶', 'è´£ä»»äºº'],
              rows: [
                ['ç”¨æˆ·ç™»å½•', 'é«˜', '3å¤©', 'å¼ ä¸‰'],
                ['æ•°æ®å±•ç¤º', 'ä¸­', '5å¤©', 'æå››'],
                ['æŠ¥è¡¨å¯¼å‡º', 'ä½', '2å¤©', 'ç‹äº”']
              ]
            },
            {
              headers: ['éœ€æ±‚ID', 'éœ€æ±‚æè¿°', 'çŠ¶æ€', 'ç‰ˆæœ¬'],
              rows: [
                ['REQ-001', 'ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½', 'å·²å®Œæˆ', 'v1.0'],
                ['REQ-002', 'å¯†ç é‡ç½®åŠŸèƒ½', 'å¼€å‘ä¸­', 'v1.1'],
                ['REQ-003', 'å¤šè¯­è¨€æ”¯æŒ', 'è®¡åˆ’ä¸­', 'v2.0']
              ]
            }
          ]
          return tables[Math.floor(Math.random() * tables.length)]
        },
        generateTags() {
          const allTags = ['è®¡ç®—æœº', 'äº’è”ç½‘äº§å“', 'æŠ€æœ¯æ–‡æ¡£', 'äº§å“è®¾è®¡', 'ç”¨æˆ·ä½“éªŒ', 'æ•°æ®åˆ†æ', 'é¡¹ç›®ç®¡ç†', 'è½¯ä»¶å¼€å‘']
          const tagCount = Math.floor(Math.random() * 3) + 2 // 2-4ä¸ªæ ‡ç­¾
          const shuffled = allTags.sort(() => 0.5 - Math.random())
          return shuffled.slice(0, tagCount)
        },
        generateStatus() {
          const statuses = ['success', 'cancelled', 'failed']
          const weights = [0.7, 0.2, 0.1] // æˆåŠŸ70%ï¼Œå–æ¶ˆ20%ï¼Œå¤±è´¥10%
          const random = Math.random()
          if (random < weights[0]) return 'success'
          if (random < weights[0] + weights[1]) return 'cancelled'
          return 'failed'
        },
        getStatusText(status) {
          const statusMap = {
            'success': 'æˆåŠŸ',
            'cancelled': 'å–æ¶ˆ',
            'failed': 'å¤±è´¥'
          }
          return statusMap[status] || 'æœªçŸ¥'
        },
        toggleSelectAll() {
          const shouldSelectAll = !this.isAllSelected
          this.knowledgeFragments.forEach(fragment => {
            fragment.selected = shouldSelectAll
          })
        },
        toggleEnable(fragment) {
          fragment.enabled = !fragment.enabled
        },
        showLink(fragment) {
          alert(`æ˜¾ç¤ºé“¾æ¥ï¼š${fragment.name}`)
        },
        viewFragment(fragment) {
          this.currentFragment = fragment
        },
        zoomIn() {
          if (this.zoomLevel < 200) {
            this.zoomLevel += 10
          }
        },
        zoomOut() {
          if (this.zoomLevel > 50) {
            this.zoomLevel -= 10
          }
        },
        resetZoom() {
          this.zoomLevel = 100
        },
        editFragment(fragment) {
          alert(`ç¼–è¾‘ç‰‡æ®µï¼š${fragment.name}`)
        },
        deleteFragment(fragment) {
          if (confirm(`ç¡®å®šè¦åˆ é™¤ç‰‡æ®µ"${fragment.name}"å—ï¼Ÿ`)) {
            const index = this.knowledgeFragments.findIndex(f => f.id === fragment.id)
            if (index > -1) {
              this.knowledgeFragments.splice(index, 1)
            }
          }
        },
        handleUpload() {
          alert('ä¸Šä¼ æ–‡ä»¶åŠŸèƒ½')
        },
                 handleUserManagement() {
           alert('ç”¨æˆ·ç®¡ç†åŠŸèƒ½')
         },
         handleFragmentManagement() {
           alert('ç¢ç‰‡çŸ¥è¯†ç®¡ç†åŠŸèƒ½')
         },
        getFileIcon(fileName, type) {
          if (type === 'folder') {
            return './æ–‡ä»¶å›¾æ ‡/æ–‡ä»¶å¤¹.png'
          }
          
          const extension = fileName.split('.').pop().toLowerCase()
          const iconMap = {
            'pdf': './æ–‡ä»¶å›¾æ ‡/pdfæ–‡ä»¶.png',
            'doc': './æ–‡ä»¶å›¾æ ‡/word.png',
            'docx': './æ–‡ä»¶å›¾æ ‡/word.png',
            'xls': './æ–‡ä»¶å›¾æ ‡/EXCEL.png',
            'xlsx': './æ–‡ä»¶å›¾æ ‡/EXCEL.png',
            'ppt': './æ–‡ä»¶å›¾æ ‡/ppt.png',
            'pptx': './æ–‡ä»¶å›¾æ ‡/ppt.png',
            'txt': './æ–‡ä»¶å›¾æ ‡/TXT.png',
            'html': './æ–‡ä»¶å›¾æ ‡/html.png',
            'htm': './æ–‡ä»¶å›¾æ ‡/html.png',
            'png': './æ–‡ä»¶å›¾æ ‡/img.png',
            'jpg': './æ–‡ä»¶å›¾æ ‡/img.png',
            'jpeg': './æ–‡ä»¶å›¾æ ‡/img.png',
            'gif': './æ–‡ä»¶å›¾æ ‡/img.png',
            'bmp': './æ–‡ä»¶å›¾æ ‡/img.png',
            'svg': './æ–‡ä»¶å›¾æ ‡/img.png',
            'fig': './æ–‡ä»¶å›¾æ ‡/img.png',
            'md': './æ–‡ä»¶å›¾æ ‡/TXT.png'
          }
          
          return iconMap[extension] || './æ–‡ä»¶å›¾æ ‡/TXT.png'
        },
        initResize() {
          const resizeHandle = document.getElementById('resizeHandle')
          const leftPanel = document.getElementById('leftPanel')
          let isResizing = false

          if (!resizeHandle || !leftPanel) return

          resizeHandle.addEventListener('mousedown', (e) => {
            isResizing = true
            document.addEventListener('mousemove', handleMouseMove)
            document.addEventListener('mouseup', handleMouseUp)
            document.body.style.cursor = 'col-resize'
            document.body.style.userSelect = 'none'
          })

          const handleMouseMove = (e) => {
            if (!isResizing) return
            const newWidth = e.clientX
            if (newWidth >= 200 && newWidth <= 500) {
              leftPanel.style.width = newWidth + 'px'
            }
          }

          const handleMouseUp = () => {
            isResizing = false
            document.removeEventListener('mousemove', handleMouseMove)
            document.removeEventListener('mouseup', handleMouseUp)
            document.body.style.cursor = ''
            document.body.style.userSelect = ''
          }
        },
        initContentResize() {
          const contentResizeHandle = document.getElementById('contentResizeHandle')
          const knowledgeFragments = document.querySelector('.knowledge-fragments')
          let isResizing = false

          if (!contentResizeHandle || !knowledgeFragments) return

          contentResizeHandle.addEventListener('mousedown', (e) => {
            isResizing = true
            document.addEventListener('mousemove', handleMouseMove)
            document.addEventListener('mouseup', handleMouseUp)
            document.body.style.cursor = 'col-resize'
            document.body.style.userSelect = 'none'
          })

          const handleMouseMove = (e) => {
            if (!isResizing) return
            const rightContent = document.querySelector('.right-content')
            const rightContentRect = rightContent.getBoundingClientRect()
            const newWidth = e.clientX - rightContentRect.left
            const minWidth = 300
            const maxWidth = rightContentRect.width * 0.8
            
            if (newWidth >= minWidth && newWidth <= maxWidth) {
              const percentage = (newWidth / rightContentRect.width) * 100
              knowledgeFragments.style.width = percentage + '%'
            }
          }

          const handleMouseUp = () => {
            isResizing = false
            document.removeEventListener('mousemove', handleMouseMove)
            document.removeEventListener('mouseup', handleMouseUp)
            document.body.style.cursor = ''
            document.body.style.userSelect = ''
          }
        }
      },
              mounted() {
          console.log('App mounted, data:', this.$data)
          this.initResize()
          this.initContentResize()
        }
    })
    
    console.log('Mounting app...')
    app.mount('#app')
    console.log('App mounted!')
  </script>
</body>
</html>
